# 微前端实现方式对比

## iframe实现微前端的优势与劣势
### 优势
* iframe是一种成熟的技术，
* 所有浏览器支持，适合整体页面嵌入。
* iframe天然支持页面间沙箱隔离，独立运行，无需额外兼容。
### 劣势
* 使用iframe时，页面之间可以使不同的域名，不同域名页面间通信和处理复杂，需要设计通讯机制，如何监听、传参格式等内容。
* iframe的加载渲染和缓存控制手段较少。

## Web Components实现微前端的优势与劣势
* Web Components是H5的新特性，支持自定义标签和标签的特性。
### 优势
* Web Components支持自定义元素，有利于业务拆分组件。
* 支持 Shadow DOM、模板和插槽功能。
* 支持模板 template 和插槽 slot，引入自定义组件内容。
### 劣势
* 接入微前端需要重新当前项目
* 生态不完善，浏览器支持有限，需处理很多兼容性问题。
* 设计架构复杂，组件间通信和控制繁琐。

## 自研框架实现微前端的优势与劣势
### 优势
* 高度定制化，可根据需要开发框架，满足特定嵌入场景。比如针对性支持某个版本的浏览器
* 独立配置通信体系和沙箱运行环境，解决应用间相互影响问题。
* 支持不同技术栈自应用，实现页面无刷新渲染。
### 劣势
* 技术实现难度高
* 需自行实现一套定制的通信体系。
& 首次加载资源可能过大，需单独处理。


## 最终实现-自研框架
* 路由分发式
* 主应用控制路由匹配和子应用加载共享依赖加载
* 子应用做功能，并接入主应用实现主子控制和联动